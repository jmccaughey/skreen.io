export PLATFORM=linux
for BITS in 64
do
  g++ X11plugin.cpp np_entry.cpp npn_gate.cpp npp_gate.cpp ../windows-scrapers-common2/Trace.cpp ../windows-scrapers-common2/platforms/$PLATFORM/poster/PlatformPoster.cpp ../windows-scrapers-common2/ScraperPosterMetaData.cpp ../windows-scrapers-common2/X11ScraperPoster.cpp ../GifEncoder2/GifSpriter.cpp ../jpeg_integration2/jpeg_mem_dest.cpp ../GifEncoder2/gifencode.c ../md5/md5.cpp ../windows-scrapers-common2/HashString.cpp ../windows-scrapers-common2/SubtileInfo.cpp ../windows-scrapers-common2/platforms/$PLATFORM/screen/PlatformScreen.cpp ../windows-scrapers-common2/Region.cpp `pkg-config --cflags --libs gtk+-2.0` -c -fPIC -Wall -DMOZ_X11=1 -DXP_UNIX=1 -DOS_LINUX=1 -I"../windows-scrapers-common2" -I"../windows-scrapers-common2/platforms/$PLATFORM/poster/" -I"../windows-scrapers-common2/platforms/$PLATFORM/screen/" -I"/home/john/npapi-sdk-read-only/headers" -I"../md5" -I"third_party/npapi" -I"../jpeg_integration2" -I"/opt/libjpeg-turbo/include" -m$BITS -O2 \
  && g++ -shared -W1,-soname,npshodat-$BITS.so -o npshodat-$BITS.so X11plugin.o Trace.o np_entry.o npn_gate.o npp_gate.o PlatformPoster.o ScraperPosterMetaData.o X11ScraperPoster.o Region.o SubtileInfo.o PlatformScreen.o HashString.o GifSpriter.o gifencode.o md5.o jpeg_mem_dest.o /opt/libjpeg-turbo/lib/libjpeg.a `pkg-config --cflags --libs gtk+-2.0` -lcurl -ljpeg -lpthread -m$BITS -O2  
done
